<!doctype html>
<html>
	
<head>
<meta charset="UTF-8">
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
<title>Waflash demo 2</title>	
	
<style>
html, body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #181818;
    font-family: Arial;
}
.entry-content {
    overflow: auto;
    width: 100%;
    height: 100%;
    display: table;
    position: absolute;
    top: 0;
    left: 0;
}
#waflashContainer {
    display: table-cell;
    text-align: center;
    vertical-align: middle;
}
.waflashCanvas {
    padding-right: 0;
    margin-left: auto;
    margin-right: auto;
    display: block;
    border: 0px none;
    background-color: black;
    width: 100%;
    height: 100%;
    min-height: 600px;
    max-width: 800px;
    max-height: 600px;
}
#waflashStatus {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 500px;
    color: white;
    margin: 0px auto;
    padding: 20px;
    font-size: 1.2rem;
    text-align: center;
    background-color: rgba(0,0,0,0.5);
    display: none;
}
</style>
</head>
	
<body>
<div class="entry-content">
	
	<figure style="display: none"><a href="https://umnick02.github.io/game/game.swf"></a></figure>
	
	<div id="waflashContainer" style="border: 0px solid #1e1f21;">
		
		<h1 style="color: #c7c7c7">Waflash Demo 2</h1>
		
		<canvas class="waflashCanvas" id="canvas" height="480px" tabindex="1"></canvas>
		
		<div id="waflashStatus" style="display: none;"></div>
		
		<script>
			var golddate=Date;
			Date = function(){
				var a=new golddate();
				a.setFullYear('2020'); a.setMonth('11'); a.setDate('10');
				return a;
			};
			
			Date.now=function(){
				var a=new golddate();
				a.setFullYear('2020'); a.setMonth('11'); a.setDate('10');
				return a.getTime();
			}
		</script>
		
		<script type="module" crossorigin="anonymous">
			let is_mobile = /Mobi/i.test(window.navigator.userAgent);
			if (is_mobile) {
				function scrollToSubject() { try { window.scrollTo({top:100, left:0, behavior:'smooth'}); } catch (e) {} }
				scrollToSubject();
				window.addEventListener("orientationchange", function () { setTimeout(scrollToSubject, 100); });
			}
			document.getElementById('canvas').addEventListener("keydown", function (ev) {
				ev.preventDefault();
				ev.stopPropagation();
			});
			document.addEventListener("mousedown", (function () {
				const canvasElement = document.getElementById('canvas');
				let focused = false;
				return function (ev) {
					if (ev.target == canvasElement) {
						if (!focused) {
							canvasElement.focus();
							focused = true;
						}
					}
					else {
						if (focused) {
							focused = false;
						}
					}
					return true;
				}
			})());
			import { createWaflash } from 'https://umnick02.github.io/game/waflash-player.min.js?2020121606';
			createWaflash(document.querySelectorAll('figure a')[0].href);
		</script>
		
	</div>
</div>
	
</body>
</html>
